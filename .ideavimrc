set laststatus=2
set hlsearch
set ignorecase
set incsearch
set showcmd
set showmode
set smartcase
" Enable vim-surround
set surround

let mapleader=","

nnoremap <Space> <nop>
nnoremap <leader>ev :e ~/.ideavimrc<CR>
nnoremap <leader>sv :source ~/.ideavimrc<CR>

map <leader>y "+y
map <leader>p "*p==
map <leader>P a<space><esc>p

noremap Y y$
nnoremap ' `
nnoremap ` '
nnoremap n nzz
nnoremap N Nzz
nnoremap gd gdzz
nnoremap vv ggVG
nnoremap U :action Vcs.RollbackChangedLines<CR>

nmap z+ :action EditorIncreaseFontSize<CR>
nmap z- :action EditorDecreaseFontSize<CR>

vnoremap < <gv
vnoremap > >gv

" unimpaired legacy
noremap ]m :action MethodDown<CR>
noremap [m :action MethodUp<CR>
noremap ]e :action GotoNextError<CR>:action ShowErrorDescription<CR>
noremap [e :action GotoPreviousError<CR>:action ShowErrorDescription<CR>

"No tabs => no tabs navigation
"noremap [b gT
"noremap ]b gt

" camelcase words: ] - forward, [ - backward
noremap [w [b
noremap ]w [w
noremap [c :action VcsShowPrevChangeMarker<CR>:action Vcs.ShowDiffWithLocal<CR>
noremap ]c :action VcsShowNextChangeMarker<CR>:action Vcs.ShowDiffWithLocal<CR>
nnoremap [<Space> O<ESC>j 0 w
nnoremap ]<Space> o<ESC>k 0 w
nnoremap coh :nohlsearch<CR>
" noremap ]e :action MoveLineDown<CR>
" noremap [e :action MoveLineUp<CR>

noremap <S-A-j> :action MoveStatementDown<CR>
noremap <S-A-k> :action MoveStatementUp<CR>
xnoremap <C-S-o> :action OverrideMethods<CR>
xnoremap <C-S-i> :action ImplementMethods<CR>
" Identifier Highlighter Reloaded plugin mapping
" Wait till original Identifier Highlighter plugin will be fixed
noremap <C-S-j> :action NextIdentifierReloaded<CR>
noremap <C-S-k> :action PreviousIdentifierReloaded<CR>

nmap gcc :action CommentByLineComment<CR>
vmap gcc :action CommentByBlockComment<CR>

" unite.vim (lists)
noremap <Space>b :action Switcher<CR>
noremap <Space>r :action RecentFiles<CR>
noremap <Space>c :action GotoClass<CR>
noremap <Space>f :action GotoFile<CR>
noremap <Space>g :action FindInPath<CR>
noremap <Space>s :action GotoSymbol<CR>

" unite outline
nnoremap <Space>m :action FileStructurePopup<CR>
noremap <Space>u :action FindUsages<CR>
noremap <Space>w :action SelectIn<CR>

" Do I really need this?
nmap gm :action ToggleBookmark<CR>
nmap gM :action ShowBookmarks<CR>
nmap gn :action GotoNextBookmark<CR>
nmap gp :action GotoPreviousBookmark<CR>

" maximize working are
noremap <C--> :action HideAllWindows<CR>

" Mnemonic: 'to'
nnoremap td :action GotoTypeDeclaration<CR>
nnoremap ti :action GotoImplementation<CR>
nnoremap ts :action GotoSuperMethod<CR>
nnoremap tt :action GotoTest<CR>
nnoremap tu :action ShowUsages<CR>
" to 'class'
nnoremap tc gg<Bar>:action MethodDown<CR>zz

"noremap <C-j> <C-W>j
"noremap <C-k> <C-W>k
"noremap <C-l> <C-W>l
"noremap <C-h> <C-W>h

" Additional <ESC> required
" noremap / :action Find<CR>
" noremap n :action FindNext<CR>
" noremap N :action FindPrevious<CR>

" native back/forward is less buggy, <C-t> still useful
noremap <C-o> :action Back<CR>
noremap <C-i> :action Forward<CR>

" Mnemonic 'extract'
nnoremap <leader>em :action ExtractMethod<CR>
vnoremap <leader>em :action ExtractMethod<CR>
vnoremap <leader>s :action SurroundWithLiveTemplate<CR>
noremap <leader>ec :action ExtractClass<CR>

noremap <leader>N :action NewElement<CR>

" Mnemonic 'introduce'
noremap <leader>ic :action IntroduceConstant<CR>
noremap <leader>if :action IntroduceField<CR>
noremap <leader>ip :action IntroduceParameter<CR>
noremap <leader>iv :action IntroduceVariable<CR>

" generate getters/setters/constructors etc.
noremap <leader>G :action Generate<CR>

" git blame
noremap <leader>gb :action Annotate<CR>

" EasyMotion (AceJump plugin)
nmap <leader><leader> :action AceAction<CR>

nmap RR :action Refactorings.QuickListPopupAction<CR>

" Common
noremap <leader>c :action CheckinProject<CR>
noremap <leader>u :action Vcs.UpdateProject<CR>
noremap <leader>b :action ToggleLineBreakpoint<CR>
noremap <leader>h :action TypeHierarchy<CR>
noremap <leader>I :action Inline<CR>
noremap <leader>k :q<CR>
noremap <leader>d :action ChooseDebugConfiguration<CR>
noremap <leader>m :action Move<CR>
noremap <leader>r :action RenameElement<CR>
noremap <leader>n :action ShowNavBar<CR>
" noremap <leader>t :action RunClass<cr>
noremap <leader>t :action ChooseDebugConfiguration<cr>
noremap <leader>f :action ReformatCode<CR>:action OptimizeImports<CR>